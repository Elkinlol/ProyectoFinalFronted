<app-header></app-header>

<div class="edit-container">

  <h2>Editar Alojamiento</h2>

  @if(listing()) {


    <div class="readonly-section">
      <p><strong>Ciudad:</strong> {{ listing().adress.city }}</p>
      <p><strong>Dirección:</strong> {{ listing().adress.adress }}</p>
      <p><strong>Latitud:</strong> {{ listing().adress.latitud }}</p>
      <p><strong>Longitud:</strong> {{ listing().adress.longitud }}</p>
    </div>



    <form [formGroup]="form" >

      <div class="form-group">
        <label>Título</label>
        <input type="text" formControlName="title" class="form-control">
      </div>

      <div class="form-group">
        <label>Descripción</label>
        <textarea formControlName="description" class="form-control" rows="4"></textarea>
      </div>

      <div class="form-group">
        <label>Precio por noche</label>
        <input type="number" formControlName="nightlyPrice" class="form-control">
      </div>

      <div class="form-group">
        <label>Capacidad máxima</label>
        <input type="number" formControlName="maxCapacity" class="form-control">
      </div>

      <!-- SUBIR IMÁGENES -->
      <div class="form-group mt-3">
        <label>Nuevas imágenes (opcional)</label>
        <input type="file" class="form-control" (change)="selectImages($event)" multiple>
        <button (click)="uploadSelectedImages(id())">Subir imágenes</button>
      </div>

      <button class="btn btn-primary mt-3" type="submit" (click)="update()">Guardar cambios</button>

    </form>

  } @else {
    <p>Cargando...</p>
  }

</div>

