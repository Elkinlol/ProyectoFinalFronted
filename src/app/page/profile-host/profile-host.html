<app-header></app-header>

<div class="form-container">
  <div class="form-card">
    <h1>Mi perfil - Anfitrión</h1>

  <div class="profile-container">
    <!-- Avatar -->
    <div class="avatar">
      @if (!profilePhoto) {
        <div class="circle">{{ userInitial }}</div>
      } @else {
        <img [src]="profilePhoto" alt="Foto de perfil" class="profile-photo">
      }
            <input
        type="file"
        accept="image/*"
        (change)="onFileSelected($event)"
        hidden
        #fileInput
      />

      <button type="button" class="btn-upload" (click)="fileInput.click()">
        Agregar foto
      </button>
    </div>

    <form [formGroup]="profileHostForm" (ngSubmit)="updateProfileHost()" novalidate>
      <div>
        <label>Email:</label>
        <input type="email" formControlName="email" readonly />
      </div>

      <div>
        <label>Rol:</label>
        <input type="text" formControlName="rol" readonly />
      </div>

      <div>
        <label>Nombre:</label>
        <input type="text" formControlName="fullName" />
      </div>

      <div>
        <label>Teléfono:</label>
        <input type="text" formControlName="numberPhone" />
      </div>


      <div>
        <label>Descripción:</label>
        <textarea formControlName="aboutMe" placeholder="Cuéntanos un poco sobre ti..."></textarea>
      </div>

      <div>
        <label>Documentos Legales:</label>
        <input type="file" (change)="onFileSelected($event)">
      </div>

      <div class="button-group">
        <button type="submit" [disabled]="profileHostForm.invalid" class="primary">
          Guardar Cambios
        </button>

        <button type="button" class="secondary" (click)="switchToUserProfile()">
            Cambiar a Perfil de huesped
        </button>
        <button type="button" class="tertiary" (click)="changePassword()">
          Cambiar Contraseña
        </button>
        <button type="button" class="tertiary" (click)= "deleteAccount()">
          Eliminar Cuenta
        </button>
      </div>
    </form>
  </div>
</div>
