<app-header></app-header>

<div class="container py-5">
  <h5 class="mb-3 d-flex align-items-center">
    <span class="material-symbols-rounded filled fs-2 me-2">apartment</span>
    Gestión de reservas
  </h5>
  <hr />
  <div class="card shadow-sm p-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h6 class="mb-0 fw-bold text-secondary">Reservas de mi alojamiento</h6>
    </div>

    <div class="table-responsive">
      <table class="table align-middle table-striped table-hover mb-0">
        <thead class="text-center table-light">
          <tr>
            <th scope="col">Fecha entrada</th>
            <th scope="col">Fecha salida</th>
            <th scope="col">Valor total</th>
            <th scope="col">Estado</th>
            <th scope="col" class="text-left">Acciones</th>
          </tr>
        </thead>

        <tbody class="table-group-divider">
          @for (item of reservs(); track $index) {
            <tr>
              <td class="fw-semibold">{{ item.checkIn }}</td>

              
              <td>{{ item.checkOut || '—' }}</td>

              <td>{{ item.totalPrice || '—' }}</td>
              <td>{{ item.status || '—' }}</td>


                    <td class="text-left">
        <button 
          type="button"
          class="btn btn-outline-primary btn-sm"
          title="Ver métricas">
          <span class="material-symbols-rounded">insights</span>
        </button>
        </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="6" class="text-center text-muted py-3">
                No tienes reservas realizadas.
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <app-pagination
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      (pageChange)="onPageChange($event)">
    </app-pagination>

  </div>
</div>

